# 项目结构

HearSight 采用现代化的微服务架构设计。后端基于 FastAPI 构建高性能 RESTful API，通过 PostgreSQL 实现数据的持久化和查询优化；前端采用 React 18 + TypeScript + Tailwind CSS 提供交互流畅的用户界面。整体支持 Docker 容器化部署，开箱即用。

![架构图](https://oss-liuchengtu.hudunsoft.com/userimg/b5/b54f2ca20885a98aa90ec0557b8354e1.png)

## 项目目录结构

```text
HearSight/
├── ASRBackend/                # 语音识别后端服务
│   ├── asr_functions/         # ASR功能实现
│   ├── routers/               # API路由层
│   ├── services/              # 业务服务层
│   ├── supabase_utils/        # Supabase工具
│   ├── tests/                 # 测试文件
│   ├── docs/                  # 文档
│   ├── example_tests/         # 示例测试
│   ├── config.py              # 配置管理
│   ├── main.py                # 启动入口
│   ├── Dockerfile.local       # 本地模式Docker配置
│   ├── Dockerfile.cloud       # 云端模式Docker配置
│   ├── docker-compose.local.yml  # 本地模式编排配置
│   ├── docker-compose.cloud.yml  # 云端模式编排配置
│   ├── requirements-local.txt    # 本地模式依赖
│   └── requirements-cloud.txt    # 云端模式依赖
│
├── backend/                   # 主后端服务
│   ├── routers/               # API 路由层
│   │   ├── chat/              # 聊天相关接口
│   │   ├── asr_router.py      # 语音识别相关接口
│   │   ├── download_router.py # 媒体下载接口
│   │   ├── progress_router.py # 进度查询接口
│   │   ├── thumbnail_router.py# 缩略图接口
│   │   ├── transcript_router.py # 媒体管理接口
│   │   ├── translate_router.py # 翻译接口
│   │   ├── upload_router.py   # 文件上传接口
│   │   └── ...                # 其他功能路由
│   ├── services/              # 业务服务层
│   │   ├── chat_service.py        # 聊天服务
│   │   ├── download_service.py    # 下载服务
│   │   ├── translate_service.py   # 翻译服务
│   │   ├── transcript_service.py  # 转写服务
│   │   └── ...                    # 其他服务
│   ├── db/                    # 数据库访问层
│   │   ├── chat_message_crud.py   # 聊天消息数据操作
│   │   ├── chat_session_crud.py   # 聊天会话数据操作
│   │   ├── job_base_store.py      # 任务基础数据操作
│   │   ├── job_result_store.py    # 任务结果数据操作
│   │   ├── job_status_store.py    # 任务状态数据操作
│   │   ├── transcript_base_crud.py# 转写基础数据操作
│   │   ├── transcript_crud.py     # 转写数据操作
│   │   ├── transcript_summary_crud.py  # 转写摘要数据操作
│   │   ├── transcript_translation_crud.py  # 转写翻译数据操作
│   │   └── ...
│   ├── audio2text/            # 语音识别模块
│   │   └── asr_sentence_segments.py # ASR 与分句处理
│   ├── media_processing/      # 媒体处理模块
│   │   ├── audio/             # 音频处理
│   │   ├── video/             # 视频处理
│   │   ├── downloader_factory.py  # 下载器工厂
│   │   └── upload_handler.py      # 上传处理
│   ├── queues/                # 队列任务处理
│   │   ├── tasks/             # 具体任务实现
│   │   └── worker_launcher.py # 工作进程启动器
│   ├── text_process/          # 文本处理模块
│   │   ├── translate/         # 翻译处理
│   │   ├── summarize.py       # 摘要生成
│   │   ├── translate.py       # 翻译实现
│   │   └── ...
│   ├── utils/                 # 工具函数
│   ├── config.py              # 配置管理
│   ├── main.py                # 启动入口
│   ├── app.py                 # FastAPI 应用工厂
│   ├── Dockerfile             # Docker配置
│   ├── requirements.txt       # Python依赖
│   └── ...
│
├── frontend/                  # 前端应用（React 18 + TypeScript）
│   ├── src/
│   │   ├── components/        # React 组件库
│   │   │   ├── RightPanel/    # 右侧功能面板
│   │   │   ├── VideoPlayer/   # 视频播放器
│   │   │   └── ...
│   │   ├── features/app/      # 应用主体功能
│   │   ├── services/          # API 服务层
│   │   ├── types/             # TypeScript 类型定义
│   │   ├── hooks/             # 自定义 React hooks
│   │   ├── HomePage/          # 首页
│   │   └── App.tsx            # 应用入口
│   ├── vite.config.ts         # Vite 构建配置
│   └── tailwind.config.js     # Tailwind CSS 配置
│
├── docker-compose.cloud.yml   # 云端部署容器编排配置
├── docker-compose.local.yml   # 本地开发容器编排配置
├── docker-compose.cloud.linux.yml   # Linux云端部署容器编排配置
├── docker-compose.cloud.arm.linux.yml  # ARM Linux云端部署容器编排配置
├── README.md                  # 项目说明
└── docs/                      # 项目文档
    ├── 快速开始.md            # 快速开始指南
    ├── 项目结构.md            # 项目结构说明
    └── ...                    # 其他文档
```
