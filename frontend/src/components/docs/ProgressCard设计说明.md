# ProgressCard 进度卡片组件设计说明

## 概述

ProgressCard 组件负责展示 HearSight 应用中文件处理任务的进度信息，以卡片形式显示任务状态、进度和相关信息。该组件是用户了解文件处理状态的核心展示模块。

## 组件结构

### ProgressCard.tsx

主容器组件，负责：

- 展示文件处理进度信息
- 显示任务状态和阶段
- 格式化数据展示（文件大小、处理时间等）

### 核心功能模块

- **进度展示**: 显示任务处理进度
- **状态指示**: 显示任务当前状态
- **信息格式化**: 格式化文件大小和处理时间
- **阶段标识**: 显示任务处理阶段

## 设计原则

### 1. 信息清晰
- 清晰展示任务处理状态
- 直观显示进度信息
- 提供阶段标识和描述

### 2. 数据格式化
- 文件大小自动格式化为合适的单位
- 处理时间自动格式化为可读格式
- 数值信息以用户友好的方式展示

### 3. 状态可视化
- 使用图标区分不同状态
- 通过颜色区分成功、失败、进行中等状态
- 提供实时进度更新

## 功能详解

### 进度展示

- 显示任务处理进度百分比
- 提供进度条可视化展示
- 实时更新进度信息

### 状态指示

- 使用图标表示不同状态（进行中、成功、失败等）
- 通过颜色区分状态类型
- 提供状态文本描述

### 信息格式化

- 文件大小格式化（B, KB, MB, GB）
- 处理时间格式化（秒、分、小时）
- 数值信息自动四舍五入和单位转换

### 阶段标识

- 显示任务处理阶段（等待、上传、下载、ASR、处理等）
- 提供阶段中文描述
- 根据阶段调整界面展示

## 数据流设计

### Props 接口

- filename: 文件名
- progress: 进度信息对象

### 内部状态

- 使用 useEffect 监听进度变化
- 格式化函数处理数据展示

### 进度数据结构

- stage: 处理阶段
- status: 任务状态
- progress: 进度百分比
- total_size: 总大小
- downloaded_size: 已下载大小
- duration: 处理时长

## 用户交互设计

### 信息展示

- 卡片式布局展示任务信息
- 清晰的状态图标和颜色标识
- 进度条可视化展示进度
- 格式化的数据信息展示

### 状态标识

- 进行中：旋转加载图标
- 成功：绿色勾号图标
- 失败：红色叉号图标
- 默认：灰色加载图标

## 无障碍设计

### 屏幕阅读器支持
- 提供适当的 ARIA 标签
- 为状态图标添加描述性文本
- 确保界面元素语义化