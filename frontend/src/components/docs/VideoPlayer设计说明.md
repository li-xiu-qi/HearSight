# VideoPlayer 视频播放器组件设计说明

## 概述

VideoPlayer 组件负责在 HearSight 应用中播放视频和音频内容，支持多种媒体格式并提供统一的播放界面。该组件是用户查看和播放媒体文件的核心展示模块。

## 组件结构

### VideoPlayer.tsx

主容器组件，负责：

- 视频/音频内容的播放展示
- 媒体类型识别和界面适配
- 播放控制和状态管理

### 核心功能模块

- **媒体播放**: 支持视频和音频播放
- **类型识别**: 自动识别媒体类型并调整界面
- **播放控制**: 提供标准播放控制功能
- **状态展示**: 显示播放器状态和可用性

## 设计原则

### 1. 多媒体支持
- 支持视频和音频文件播放
- 自动识别媒体类型
- 根据类型调整界面展示

### 2. 用户体验
- 提供直观的播放界面
- 支持标准播放控制（播放、暂停、音量等）
- 显示播放器状态信息

### 3. 响应式设计
- 适配不同屏幕尺寸
- 保持良好的观看体验
- 支持全屏播放

## 功能详解

### 媒体播放

- 支持 HTML5 视频播放器功能
- 提供标准播放控制（播放、暂停、进度条、音量等）
- 支持全屏播放
- 支持预加载元数据

### 类型识别

- 自动识别媒体类型（视频或音频）
- 根据文件扩展名判断类型
- 视频格式包括：mp4, avi, mov, mkv, flv, wmv, webm
- 音频格式包括：mp3, wav, m4a, aac, flac, ogg, wma

### 界面适配

- 视频文件显示标准视频播放器
- 音频文件显示专门的音频播放界面
- 音频播放器提供视觉化的背景和图标
- 根据媒体类型调整播放器标题

### 状态展示

- 显示播放器标题（视频播放器/音频播放器）
- 显示"可播放"状态指示
- 无媒体文件时显示占位符界面
- 提供操作引导信息

## 数据流设计

### Props 接口

- videoSrc: 视频源URL
- mediaType: 媒体类型（video/audio）
- loading: 加载状态

### 内部状态

- 使用 React.forwardRef 传递视频元素引用
- 通过 CSS 控制界面展示效果

### 媒体数据结构

- src: 媒体文件URL
- type: 媒体类型
- controls: 控制条显示
- preload: 预加载策略

## 用户交互设计

### 播放控制

- 标准视频播放控制条
- 支持播放/暂停
- 支持音量控制
- 支持进度条拖拽
- 支持全屏播放

### 界面展示

- 视频文件显示完整播放界面
- 音频文件显示专门设计的音频界面
- 无文件时显示占位符和操作引导
- 状态指示器显示播放器可用性

## 无障碍设计

### 键盘导航
- 支持标准播放器键盘控制
- 支持 Tab 键在控制元素间导航
- 支持空格键播放/暂停

### 屏幕阅读器支持
- 提供适当的 ARIA 标签
- 为播放器添加描述性文本
- 确保界面元素语义化